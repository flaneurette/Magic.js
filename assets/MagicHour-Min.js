class Magic{msg={initialize:"MH: Cannot initialize a non-object.",enumerate:"MH: Could not enumerate global object."};log(e){console.log(e)}load(e){if(!Object(e))return this.log(this.msg.initialize),!1;{let t=e.data;if(e.method,t)try{for(let[l,i]of Object.entries(t))Array.isArray(i)?this.nodes("loop",l,Object.values(i)):(this.nodes("replaceNodeValue",l,i),this.nodes("bindAttributesNode",l,i),this.nodes("logicStructIf",l,i),this.nodes("functions",l,i),this.nodes("curtains",l,i),this.log(l+":"+i))}catch(n){this.log(this.msg.enumerate)}}}nodes(e,t,l){for(var i=this.nodeParentList(),n=0;n<i.length;n++){"curtains"==e&&this.curtains(i[n],t,l),"loop"==e&&this.loop(i[n],t,l),"functions"==e&&this.bindFunctions(i[n],t,l),"logicStructIf"==e&&this.bindIf(i[n],t,l),"bindAttributesNode"==e&&this.bindClass(i[n],t,l),"findAttributesNode"==e&&i[n].hasAttribute("magic:for")&&this.log(!0);for(var r=this.nodeChildren(i[n]),a=0;a<r.length;a++){if("replaceNodeValue"==e&&3===r[a].nodeType){let c=RegExp("{{\\s*"+t+"[0-9]*\\s*}}","gmi");r[a].nodeValue=r[a].nodeValue.replace(c,l)}"locateNode"==e&&console.log(r[a])}}}nodeParentList(){let e=[];for(var t=document.getElementsByTagName("*"),l=0;l<t.length;l++)e.push(t[l]);return e}nodeChildren(e){let t=[];for(var l=0;l<e.childNodes.length;l++)t.push(e.childNodes[l]);return t}getElements(){return document.getElementsByTagName("*")}bindClass(e,t,l){null!==e.getAttribute("magic:class")&&e.getAttribute("magic:class").toString()===t.toString()&&(e.className=l),null!==e.getAttribute("m:class")&&e.getAttribute("m:class").toString()===t.toString()&&(e.className=l),null!==e.getAttribute(":class")&&e.getAttribute(":class").toString()===t.toString()&&(e.className=l)}bindId(e,t,l){null!==e.getAttribute("magic:id")&&e.getAttribute("magic:id").toString()===t.toString()&&(e.id=l),null!==e.getAttribute("m:id")&&e.getAttribute("m:id").toString()===t.toString()&&(e.id=l),null!==e.getAttribute(":id")&&e.getAttribute(":id").toString()===t.toString()&&(e.id=l)}drawCurtains(){for(var e=document.getElementsByTagName("*"),t=0;t<e.length;t++)null!==e[t].getAttribute("magic:curtain")&&(e[t].getAttribute("magic:curtain"),e[t].style="display:block;")}curtains(e,t,l){let i=null;null!==e.getAttribute("magic:onclick")&&(i=e.getAttribute("magic:onclick")),null!==e.getAttribute("m:onclick")&&(i=e.getAttribute("m:onclick")),null!==e.getAttribute(":onclick")&&(i=e.getAttribute(":onclick"));for(var n=this.nodeParentList(),r=0;r<n.length;r++)null!==e.getAttribute("magic:curtain")&&(e.getAttribute("magic:curtain"),e.style="display:none;");(null!==e.getAttribute("magic:onclick")||null!==e.getAttribute("m:onclick")||null!==e.getAttribute("magic:onclick"))&&e.addEventListener("click",this.drawCurtains,!1)}has(e){if(e&&-1!=e.indexOf("'"))return e.split("'")[1]}bindFunctions(e,t,l){let i=null;var n=document.getElementsByTagName("*");null!==e.getAttribute("magic:onclick")&&(i=e.getAttribute("magic:onclick")),null!==e.getAttribute("m:onclick")&&(i=e.getAttribute("m:onclick")),null!==e.getAttribute(":onclick")&&(i=e.getAttribute(":onclick")),(null!==e.getAttribute("magic:onclick")||null!==e.getAttribute("m:onclick")||null!==e.getAttribute("magic:onclick"))&&"count"==t&&e.addEventListener("click",function(){for(var e=0;e<n.length;e++)null!==n[e].getAttribute(":id")&&(n[e].getAttribute(":id"),n[e].innerText=Number(n[e].innerText)+1)})}bindIf(e,t,l){let i=null;if(null!==e.getAttribute("magic:if")&&(i=e.getAttribute("magic:if")),null!==e.getAttribute("m:if")&&(i=e.getAttribute("m:if")),null!==e.getAttribute(":if")&&(i=e.getAttribute(":if")),(null!==e.getAttribute("magic:if")||null!==e.getAttribute("m:if")||null!==e.getAttribute(":if"))&&null!==i){if(-1!=i.indexOf(".")){let n=i.split(".");if(n.length>0&&n.indexOf("has")){let r=this.has(n[1]).toString();-1!=l.indexOf(r)?e.style="display: block":e.style="display: none;"}}else if(i.search("/s/")){let a="",c=i.split("s");console.log(c),e.style="display: none;";for(let g=0;g<c.length;g++)t==c[g]&&(a+=c[g])}}}loop(e,t,l){let i=null;if(null!==e.getAttribute("magic:loop")&&(i=e.getAttribute("magic:loop")),null!==e.getAttribute("m:loop")&&(i=e.getAttribute("m:loop")),null!==e.getAttribute(":loop")&&(i=e.getAttribute(":loop")),null!=i&&(t==e.getAttribute("magic:loop")||t==e.getAttribute("m:loop")||t==e.getAttribute(":loop"))){let n=e.children[0],r=n.innerHTML,a=Object.entries(l),c=a.length;for(let g=0;g<c;g++){let o=Object.keys(a[g][1]),u=Object.values(a[g][1]);n.innerHTML&&(1==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]):2==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]):3==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]):4==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]):5==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]):6==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]).replace("{{"+o[5]+"}}",u[5]):7==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]).replace("{{"+o[5]+"}}",u[5]).replace("{{"+o[6]+"}}",u[6]):8==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]).replace("{{"+o[5]+"}}",u[5]).replace("{{"+o[6]+"}}",u[6]).replace("{{"+o[7]+"}}",u[7]):9==o.length?n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]).replace("{{"+o[5]+"}}",u[5]).replace("{{"+o[6]+"}}",u[6]).replace("{{"+o[7]+"}}",u[7]).replace("{{"+o[8]+"}}",u[8]):10==o.length&&(n.innerHTML=r.replace("{{"+o[0]+"}}",u[0]).replace("{{"+o[1]+"}}",u[1]).replace("{{"+o[2]+"}}",u[2]).replace("{{"+o[3]+"}}",u[3]).replace("{{"+o[4]+"}}",u[4]).replace("{{"+o[5]+"}}",u[5]).replace("{{"+o[6]+"}}",u[6]).replace("{{"+o[7]+"}}",u[7]).replace("{{"+o[8]+"}}",u[8]).replace("{{"+o[9]+"}}",u[9])),e.append(n),n=n.cloneNode(!0))}}}clone(e,t){if(null===t)return!1;{let l=document.getElementById(t).parentNode,i=document.getElementById(t).cloneNode(!0);for(let n=0;n<e.length;n++)l.appendChild(i)}}isVisible(e){try{"block"==document.getElementById(e).style.display?document.getElementById(e).style.display="none":"none"==document.getElementById(e).style.display&&(document.getElementById(e).style.display="block")}catch(t){}}}